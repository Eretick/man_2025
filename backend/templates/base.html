<!DOCTYPE html>
<html lang="uk">
<head>
    <!-- Load the Telegram Library -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <script src="https://cdn.jsdelivr.net/npm/eruda"></script>
    <script>eruda.init();</script>
    
    <meta charset="UTF-8">
    <title>–ú–∞–≥–∞–∑–∏–Ω —Ä–æ—Å–ª–∏–Ω</title>

    {# load TG theme values or use previous from csv #}
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <script>
        const tg = window.Telegram.WebApp;
        tg.ready();
        tg.expand();

        // Set CSS theme TG variables, or default if not given (opened in web browser)
        const themeParams = tg.themeParams;
        const defaults = {
            'bg_color': '#f4f6f4',
            'text_color': '#000000',
            'link_color': '#2e7d32',
            'button_color': '#2e7d32',
            'button_text_color': '#ffffff',
            'header_bg_color': '#2e7d32',
            'section_bg_color': '#ffffff',
            'section_header_text_color': '#2e7d32',
            'subtitle_text_color': '#555555'
        };

        Object.entries(defaults).forEach(([key, defaultValue]) => {
            const tgValue = themeParams[key];
            const value = (tgValue && tgValue !== '#00000000') ? tgValue : defaultValue;
            document.documentElement.style.setProperty(`--tg-${key}`, value);
        });
        {# add TG user data #}
        document.addEventListener('DOMContentLoaded', function() {
            tg.ready();
            // Add initData as data-attribute to <body>
            document.body.dataset.tgInitData = tg.initData || '';
        });
        // And send it to username field
        const user = tg.initDataUnsafe?.user;
        if (user && document.querySelector('.user-name')) {
            let displayName = user.first_name || 'user.last_name' || user.username;
            document.querySelector('.user-name').textContent = displayName;
        }
        {# Automatically add it to all forms  #}
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelectorAll('form').forEach(form => {
                let hiddenField = form.querySelector('input[name="tg_init_data"]');
                if (!hiddenField) {
                    hiddenField = document.createElement('input');
                    hiddenField.type = 'hidden';
                    hiddenField.name = 'tg_init_data';
                    form.appendChild(hiddenField);
                }
                hiddenField.value = tg.initData;
            });
        });
    </script>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<header>
    <h1>üåø –ú–∞–≥–∞–∑–∏–Ω —Ä–æ—Å–ª–∏–Ω</h1>
    <nav>
        <a href="/">–ö–∞—Ç–∞–ª–æ–≥</a>
        <a href="/cart">–ö–æ—à–∏–∫</a>
        <a href="/history">–Ü—Å—Ç–æ—Ä—ñ—è</a>
        <a href="/add_product">–î–æ–¥–∞—Ç–∏ —Ç–æ–≤–∞—Ä</a>
    </nav>
</header>

<main>
{% block content %}{% endblock %}
</main>
</body>
</html>






